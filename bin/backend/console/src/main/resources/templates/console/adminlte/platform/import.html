<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorate="~{${@environment.getProperty('layout.console')}}">
<head>
<title th:utext="#{module.console.platform.import}"></title>
</head>
<body>
	<th:block layout:fragment="content">
		<section class="content">
			<div class="box box-primary">
				<div class="box-header with-border">
					<h3 class="box-title" th:text="#{module.console.platform.import}"></h3>
				</div>
				<div class="box-body">
					<div class="col-md-9">
						<form method="post" id="import-form" th:action="@{${@environment.getProperty('path.console.import')}}" enctype="multipart/form-data">
							<div class="col-md-12">
								<div class="form-group">
									<input class="form-control" type="file" onchange="loadfile(this)" name="files" multiple>
								</div>
							</div>
							<div class="col-md-12">
								<div class="form-group text-right">
									<button type="submit" class="btn btn-success" th:text="#{module.console.platform.import}" onclick="document.getElementById('import-form').submit();"></button>
								</div>
							</div>
						</form>
						<th:block layout:insert="~{common/adminlte/common/component/alert :: custom}"></th:block>
					</div>
					<div class="col-md-3">
						<div class="box box-solid" style="background-color: #ecf0f5;">
							<div class="box-body text-muted" th:utext="#{module.console.platform.update.info}"></div>
						</div>
						<div class="box box-solid" style="background-color: #fcc;">
							<div class="box-body text-muted" th:utext="#{module.console.platform.update.caution}"></div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<script>
			function loadfile(input) {
				var reader = new FileReader();
				reader.onload = function(e) {
					document.getElementById('text').value = e.target.result;
				}
				reader.readAsText(input.files[0]);
			}
		</script>
	</th:block>
</body>
</html>
