<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorate="~{${@environment.getProperty('layout.backoffice')}}">
<head>
<title th:utext="#{module.cronjob}"></title>
</head>
<body>
	<th:block layout:fragment="content">
		<section class="content">
			<!-- Search Form-->
			<div class="row">
				<div class="col-md-6">
					<th:block layout:insert="~{/backoffice/adminlte/common/component/search :: search (searchAction=@{${@environment.getProperty('path.cronjob')}}, objectSearch=${cronjobSearch}, searchFields=${ {'id', 'jobName'} }, displayFields=${ {'id', 'jobName', 'startup', 'status', 'result'} } ,searchForm='/backoffice/adminlte/cronjob/cronjobList' )}"></th:block>
				</div>
			</div>
			<!-- Alert Notification-->
			<div class="row">
				<th:block layout:insert="~{/backoffice/adminlte/common/component/alert :: custom}"></th:block>
			</div>
			<!-- List Table-->
			<div class="row"
				th:with="startup=#{module.cronjob.startup}, jobName=#{module.cronjob.jobname}, status=#{module.cronjob.status}, result=#{module.cronjob.result}">
				<th:block
					layout:insert="~{/backoffice/adminlte/common/component/list :: list (title=#{module.cronjob}, objectUpdate=${cronjobUpdate}, objectSearch=${cronjobSearch}, icon=@{${@environment.getProperty('module.cronjob.icon')}}, createAuthority='cronjob_create', updateAuthority='cronjob_update', listFields=${ {{'id', 'ID'},{'jobName', jobName}, {'startup', startup}, {'status', status}, {'result', result}} }, paginationAction=@{${@environment.getProperty('path.cronjob')}}, searchFields=${ {'id', 'jobName', 'startup', 'status', 'result'} }, updateForm='/backoffice/adminlte/cronjob/cronjobForm')}"></th:block>
			</div>
			<!-- Create Modal-->
			<th:block sec:authorize="hasAuthority('cronjob_create')"
				layout:insert="~{/backoffice/adminlte/common/component/create :: create (createAction=@{${@environment.getProperty('path.cronjob')}}, createObject=${cronjobCreate}, createForm='/backoffice/adminlte/common/component/general', createCheckId=${@environment.getProperty('path.api.cronjob.checkid')})}"></th:block>
		</section>
	</th:block>
	<th:block layout:fragment="searchForm">
		<div class="form-group">
			<label for="startup" th:text="#{module.cronjob.startup}"></label>
			<select class="form-control" name="startup">
				<option th:text="#{module.backoffice.empty}"></option>
				<option value="1" th:selected="*{startup == true}" th:text="#{module.backoffice.yes}"></option>
				<option value="0" th:selected="*{startup == false}" th:text="#{module.backoffice.no}"></option>
			</select>
			<span class="help-block"></span>
		</div>
		<div class="form-group">
			<label for="status" th:text="#{module.cronjob.status}"></label>
			<select class="form-control" name="status">
				<option th:text="#{module.backoffice.empty}"></option>
				<option th:each="statusEnum : ${T(com.beanframework.cronjob.domain.CronjobEnum.Status).values()}" th:value="${statusEnum.name()}" th:selected="*{status} == ${statusEnum} ? true : false"
					th:text="${statusEnum.toString()}"></option>
			</select>
			<span class="help-block"></span>
		</div>
		<div class="form-group">
			<label for="result" th:text="#{module.cronjob.result}"></label>
			<select class="form-control" name="result">
				<option th:text="#{module.backoffice.empty}"></option>
				<option th:each="resultEnum : ${T(com.beanframework.cronjob.domain.CronjobEnum.Result).values()}" th:value="${resultEnum.name()}" th:selected="*{result} == ${resultEnum} ? true : false"
					th:text="${resultEnum.toString()}"></option>
			</select>
			<span class="help-block"></span>
		</div>
	</th:block>

</body>
</html>